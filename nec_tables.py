

# Cable ampacities from NEC Table 310.16
cable_ampacity_310_16 = {'Cu':{60:{'12':20,
                                   '10':30,
                                   '8':40,
                                   '6':55,
                                   '4':70,
                                   '3':85,
                                   '2':95,
                                   '1':110,
                                   '1/0':125,
                                   '2/0':145,
                                   '3/0':165,
                                   '4/0':195,
                                   '250':215,
                                   '300':240,
                                   '350':260,
                                   '400':280,
                                   '500':320,
                                   '600':350,
                                   '700':385,
                                   '750':400,
                                   '800':410,
                                   '900':435,
                                   '1000':455,
                                   '1250':495,
                                   '1500':525,
                                   '1750':545,
                                   '2000':555},
                               75:{'12':25,
                                   '10':35,
                                   '8':50,
                                   '6':65,
                                   '4':85,
                                   '3':100,
                                   '2':115,
                                   '1':130,
                                   '1/0':150,
                                   '2/0':175,
                                   '3/0':200,
                                   '4/0':230,
                                   '250':255,
                                   '300':285,
                                   '350':310,
                                   '400':335,
                                   '500':380,
                                   '600':420,
                                   '700':460,
                                   '750':475,
                                   '800':490,
                                   '900':520,
                                   '1000':545,
                                   '1250':590,
                                   '1500':625,
                                   '1750':650,
                                   '2000':665},
                               90:{'12':30,
                                   '10':40,
                                   '8':55,
                                   '6':75,
                                   '4':95,
                                   '3':115,
                                   '2':130,
                                   '1':145,
                                   '1/0':170,
                                   '2/0':195,
                                   '3/0':225,
                                   '4/0':260,
                                   '250':290,
                                   '300':320,
                                   '350':350,
                                   '400':380,
                                   '500':430,
                                   '600':475,
                                   '700':520,
                                   '750':535,
                                   '800':555,
                                   '900':585,
                                   '1000':615,
                                   '1250':665,
                                   '1500':705,
                                   '1750':735,
                                   '2000':750}},
                         'Al':{60:{'12':15,
                                   '10':25,
                                   '8':35,
                                   '6':40,
                                   '4':55,
                                   '3':65,
                                   '2':75,
                                   '1':85,
                                   '1/0':100,
                                   '2/0':115,
                                   '3/0':130,
                                   '4/0':150,
                                   '250':170,
                                   '300':195,
                                   '350':210,
                                   '400':225,
                                   '500':260,
                                   '600':285,
                                   '700':315,
                                   '750':320,
                                   '800':330,
                                   '900':355,
                                   '1000':375,
                                   '1250':405,
                                   '1500':435,
                                   '1750':455,
                                   '2000':470},
                               75:{'12':20,
                                   '10':30,
                                   '8':40,
                                   '6':50,
                                   '4':65,
                                   '3':75,
                                   '2':90,
                                   '1':100,
                                   '1/0':120,
                                   '2/0':135,
                                   '3/0':155,
                                   '4/0':180,
                                   '250':205,
                                   '300':230,
                                   '350':250,
                                   '400':270,
                                   '500':310,
                                   '600':340,
                                   '700':375,
                                   '750':385,
                                   '800':395,
                                   '900':425,
                                   '1000':445,
                                   '1250':485,
                                   '1500':520,
                                   '1750':545,
                                   '2000':560},
                               90:{'12':25,
                                   '10':35,
                                   '8':45,
                                   '6':55,
                                   '4':75,
                                   '3':85,
                                   '2':100,
                                   '1':115,
                                   '1/0':135,
                                   '2/0':150,
                                   '3/0':175,
                                   '4/0':205,
                                   '250':230,
                                   '300':260,
                                   '350':280,
                                   '400':305,
                                   '500':350,
                                   '600':385,
                                   '700':425,
                                   '750':435,
                                   '800':445,
                                   '900':480,
                                   '1000':500,
                                   '1250':545,
                                   '1500':585,
                                   '1750':615,
                                   '2000':630}}}

# Cable ampacities from NEC Table 310.17
cable_ampacity_310_17 = {'Cu':{60:{'12':30,
                                   '10':40,
                                   '8':60,
                                   '6':80,
                                   '4':105,
                                   '3':120,
                                   '2':140,
                                   '1':165,
                                   '1/0':195,
                                   '2/0':225,
                                   '3/0':260,
                                   '4/0':300,
                                   '250':340,
                                   '300':375,
                                   '350':420,
                                   '400':455,
                                   '500':515,
                                   '600':575,
                                   '700':630,
                                   '750':655,
                                   '800':680,
                                   '900':730,
                                   '1000':780,
                                   '1250':890,
                                   '1500':980,
                                   '1750':1070,
                                   '2000':1155},
                               75:{'12':35,
                                   '10':50,
                                   '8':70,
                                   '6':95,
                                   '4':125,
                                   '3':145,
                                   '2':170,
                                   '1':195,
                                   '1/0':230,
                                   '2/0':265,
                                   '3/0':310,
                                   '4/0':360,
                                   '250':405,
                                   '300':445,
                                   '350':505,
                                   '400':545,
                                   '500':620,
                                   '600':690,
                                   '700':755,
                                   '750':785,
                                   '800':815,
                                   '900':870,
                                   '1000':935,
                                   '1250':1065,
                                   '1500':1175,
                                   '1750':1280,
                                   '2000':1385},
                               90:{'12':40,
                                   '10':55,
                                   '8':80,
                                   '6':105,
                                   '4':140,
                                   '3':165,
                                   '2':190,
                                   '1':220,
                                   '1/0':260,
                                   '2/0':300,
                                   '3/0':350,
                                   '4/0':405,
                                   '250':455,
                                   '300':500,
                                   '350':570,
                                   '400':615,
                                   '500':700,
                                   '600':780,
                                   '700':850,
                                   '750':885,
                                   '800':920,
                                   '900':980,
                                   '1000':1055,
                                   '1250':1200,
                                   '1500':1325,
                                   '1750':1445,
                                   '2000':1560}},
                         'Al':{60:{'12':25,
                                   '10':35,
                                   '8':45,
                                   '6':60,
                                   '4':80,
                                   '3':95,
                                   '2':110,
                                   '1':130,
                                   '1/0':150,
                                   '2/0':175,
                                   '3/0':200,
                                   '4/0':235,
                                   '250':265,
                                   '300':290,
                                   '350':330,
                                   '400':355,
                                   '500':405,
                                   '600':455,
                                   '700':500,
                                   '750':515,
                                   '800':535,
                                   '900':580,
                                   '1000':625,
                                   '1250':710,
                                   '1500':795,
                                   '1750':875,
                                   '2000':960},
                               75:{'12':30,
                                   '10':40,
                                   '8':55,
                                   '6':75,
                                   '4':100,
                                   '3':115,
                                   '2':135,
                                   '1':155,
                                   '1/0':180,
                                   '2/0':210,
                                   '3/0':240,
                                   '4/0':280,
                                   '250':315,
                                   '300':350,
                                   '350':395,
                                   '400':425,
                                   '500':485,
                                   '600':545,
                                   '700':595,
                                   '750':620,
                                   '800':645,
                                   '900':700,
                                   '1000':750,
                                   '1250':855,
                                   '1500':950,
                                   '1750':1050,
                                   '2000':1150},
                               90:{'12':35,
                                   '10':45,
                                   '8':60,
                                   '6':85,
                                   '4':115,
                                   '3':130,
                                   '2':150,
                                   '1':175,
                                   '1/0':205,
                                   '2/0':235,
                                   '3/0':270,
                                   '4/0':315,
                                   '250':355,
                                   '300':395,
                                   '350':445,
                                   '400':480,
                                   '500':545,
                                   '600':615,
                                   '700':670,
                                   '750':700,
                                   '800':725,
                                   '900':790,
                                   '1000':845,
                                   '1250':965,
                                   '1500':1070,
                                   '1750':1185,
                                   '2000':1295}}}

# Standard OCPD sizes from NEC Table 240.6(A)
ocpd_sizes = [15, 20, 25, 30, 35,
              40, 45, 50, 60, 70,
              80, 90, 100, 110, 125,
              150, 175, 200, 225, 250,
              300, 350, 400, 450, 500,
              600, 700, 800, 1000, 1200,
              1600, 2000, 2500, 3000, 4000,
              5000, 6000]

# Standard adders from NEC 2014 310.15(B)(3)(c) in INCHES and °C
rooftop_adder_2014 = [[0.5,
                       3.5,
                       12,
                       36],
                      [33,
                       22,
                       17,
                       14]]

# Standard adders from NEC 2017 310.15(B)(3)(c) in INCHES and °C
# [XX,YY]  :: XX=distance above roof in INCHES, YY=°C adder to Ambient Temperature
rooftop_adder_2017 = [0.875, 33]

# Standard wire insulations from NEC 2017 Table 310.16(B)(3)(c) columns
cond_insulation =  {60:{'TW',
                        'UF'},
                    75:{'RHW',
                        'THHW',
                        'THW',
                        'THWN',
                        'XHHW',
                        'USE',
                        'ZW'},
                    90:{'TBS',
                        'SA',
                        'FEP',
                        'FEPB',
                        'MI',
                        'PV',
                        'RHH',
                        'RHW-2',
                        'THHN',
                        'THHW',
                        'THW-2',
                        'THWN-2',
                        'USE-2',
                        'XHH',
                        'XHHW',
                        'XHHW-2',
                        'ZW-2'}

# Current-carrying conductor count derates from NEC 2017 310.15(B)(3)(a) for simultaneously energized conductors
# (XX,YY)  :: XX=current-carring conductor count, YY=ccc_count_derate,
ccc_count_derate =  [( 3,1.00),
                     ( 4,0.80),
                     ( 6,0.80),
                     ( 7,0.70),
                     ( 9,0.70),
                     (10,0.50),
                     (20,0.50),
                     (21,0.45),
                     (30,0.45),
                     (31,0.40),
                     (40,0.40),
                     (41,0.35)]

# Ambient Temperature Adjustments from NEC 2017 310.15(B)(2)(a) based on 30°C
# XX:{YY:ZZ, YY:ZZ, YY:ZZ}  :: XX=Amb Temperature, YY=cond_insulation, ZZ=amb_temp_derate
amb_temp_derate =   {10:{60:1.29, 75:1.20, 90:1.15},
                     11:{60:1.22, 75:1.15, 90:1.12},
                     15:{60:1.22, 75:1.15, 90:1.12},

                     16:{60:1.15, 75:1.11, 90:1.08},
                     20:{60:1.15, 75:1.11, 90:1.08},
                     21:{60:1.08, 75:1.05, 90:1.04},
                     25:{60:1.08, 75:1.05, 90:1.04},

                     26:{60:1.00, 75:1.00, 90:1.00},
                     30:{60:1.00, 75:1.00, 90:1.00},
                     31:{60:0.91, 75:0.94, 90:0.96},
                     35:{60:0.91, 75:0.94, 90:0.96},

                     36:{60:0.82, 75:0.88, 90:0.91},
                     40:{60:0.82, 75:0.88, 90:0.91},
                     41:{60:0.71, 75:0.82, 90:0.87},
                     45:{60:0.71, 75:0.82, 90:0.87},

                     46:{60:0.58, 75:0.75, 90:0.82},
                     50:{60:0.58, 75:0.75, 90:0.82},
                     51:{60:0.41, 75:0.67, 90:0.76},
                     55:{60:0.41, 75:0.67, 90:0.76},

                     56:{60:0.00, 75:0.58, 90:0.71},
                     60:{60:0.00, 75:0.58, 90:0.71},
                     61:{60:0.00, 75:0.47, 90:0.65},
                     65:{60:0.00, 75:0.47, 90:0.65},
                     66:{60:0.00, 75:0.33, 90:0.58},
                     70:{60:0.00, 75:0.33, 90:0.58},

                     71:{60:0.00, 75:0.00, 90:0.50},
                     75:{60:0.00, 75:0.00, 90:0.50},
                     76:{60:0.00, 75:0.00, 90:0.41},
                     80:{60:0.00, 75:0.00, 90:0.41},
                     81:{60:0.00, 75:0.00, 90:0.29},
                     85:{60:0.00, 75:0.00, 90:0.29}}

# Minimum Size EGC for Grounding Raceway and Equipment from NEC 2017 Table 250.122
# XX:{YY:ZZ, YY:ZZ, YY:ZZ}  :: XX=ocpd_sizes, YY=cond_material, ZZ=egc_size_base
egc_size_base = {15:{'Cu':'14', 'Al':'12'},
                 20:{'Cu':'12', 'Al':'10'},
                 60:{'Cu':'10', 'Al':'8'},
                 100:{'Cu':'8', 'Al':'6'},
                 200:{'Cu':'6', 'Al':'4'},
                 300:{'Cu':'4', 'Al':'2'},
                 400:{'Cu':'3', 'Al':'1'},
                 500:{'Cu':'2', 'Al':'1/0'},
                 600:{'Cu':'1', 'Al':'2/0'},
                 800:{'Cu':'1/0', 'Al':'3/0'},
                 1000:{'Cu':'2/0', 'Al':'4/0'},
                 1200:{'Cu':'3/0', 'Al':'250'},
                 1600:{'Cu':'4/0', 'Al':'350'},
                 2000:{'Cu':'250', 'Al':'400'},
                 2500:{'Cu':'350', 'Al':'600'},
                 3000:{'Cu':'400', 'Al':'600'},
                 4000:{'Cu':'500', 'Al':'750'},
                 5000:{'Cu':'700', 'Al':'1200'},
                 6000:{'Cu':'800', 'Al':'1200'}}

conduit_type = []
